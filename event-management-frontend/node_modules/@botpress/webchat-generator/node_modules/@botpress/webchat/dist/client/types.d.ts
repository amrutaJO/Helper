import { EventEmitter } from '../utils';
import { BlockObject, type FileType } from '../types/block-type';
import { UserProps } from '../types';
type SafeOmit<T, K extends keyof T> = Omit<T, K>;
export type UserCredentials = {
    userId: string;
    userToken: string;
};
export type User = UserProps;
export type UserData = User['data'];
export type UserOptions = SafeOmit<User, 'data'>;
export type Message = {
    id: string;
    conversationId: string;
    authorId: string | undefined;
    sentOn: Date;
    disableInput?: boolean;
    payload: BlockObject;
};
export type WebchatEvents = {
    conversation: string | undefined;
    message: Message;
    messageSent: string;
    error: Error;
    webchatVisibility: 'show' | 'hide' | 'toggle';
    webchatConfig: Record<string, any>;
    customEvent: Record<string, any>;
    isTyping: {
        isTyping: boolean;
        timeout: number;
    };
};
type ValueOf<T> = T[keyof T];
type AnyEvent = ValueOf<{
    [K in keyof WebchatEvents]: {
        type: K;
        payload: WebchatEvents[K];
    };
}>;
export type Events = WebchatEvents & {
    '*': AnyEvent;
};
export type WebchatClient = {
    mode: 'messaging' | 'pushpin';
    clientId: string;
    apiUrl: string;
    userId: string | undefined;
    conversationId: string | undefined;
    on: EventEmitter<Events>['on'];
    connect(creds?: UserCredentials, data?: UserData, opts?: UserOptions): Promise<UserCredentials | undefined>;
    disconnect(): Promise<void>;
    getUser(): Promise<User>;
    updateUser(user: User): Promise<User>;
    sendMessage(message: string): Promise<void>;
    sendFile(file: File): Promise<{
        fileUrl: string;
        name: string;
        type: FileType;
    }>;
    sendEvent(event: Record<string, any>): Promise<void>;
    switchConversation(id: string): Promise<void>;
    conversationExists(id: string): Promise<boolean>;
    newConversation(): Promise<void>;
    listMessages(): Promise<Message[]>;
};
export {};
